<div class="book-pag mt-20">

  {% for c in site.book %}
    {% if c.title == page.title %}
      {% assign thisPost = c %}
      {% if forloop.index == 1 %}
        {% assign prevflag = 0 %}
        {% assign nextflag = 1 %}
      {% elsif forloop.index == forloop.length %}
        {% assign prevflag = 1 %}
        {% assign nextflag = 0 %}
      {% else %}
        {% assign prevflag = 1 %}
        {% assign nextflag = 1 %}
      {% endif %}
    {% endif %}
  {% endfor %}

  {% for c in site.book %}
    {% if c.title == page.title %}
      {% assign prevflag = 0 %}
    {% endif %}
    {% if prevflag == 1 %}
      {% assign prevPost = c %}
      {% assign page.previous = c %}
    {% endif %}
  {% endfor %}

  {% if nextflag == 1 %}
    {% for c in site.book %}
      {% if foundPost == 1 %}
        {% assign getNext = 1 %}
      {% endif %}
      {% if c.title == page.title %}
        {% assign foundPost = 1 %}
      {% endif %}
      {% if getNext == 1%}
        {% assign nextPost = c %}
        {% assign page.next = c %}
        {% assign foundPost = 0 %}
        {% assign getNext = 0 %}
      {% endif %}
    {% endfor %}
  {% endif %}

  <div class="book-nav flex grid grid-cols-2 gap-12 pt-8{% if nextPost.url and prevPost.url %} add-border{% endif %}">

    <div class="book-prev text-right">
      {% if prevPost.url %}
        <a class="text-base uppercase sans-serif font-black" rel="prev" href="{{ prevPost.url }}"><i class="fas fa-angle-double-left"></i> Prev</a>
        <h5 class="uppercase mt-8 sans-serif text-xl">{{ prevPost.title }}</h5>
      {% endif %}
    </div>

    <div class="book-next">
      {% if nextPost.url %}
        <a class="text-base uppercase sans-serif font-black" rel="next" href="{{ nextPost.url }}">Next <i class="fas fa-angle-double-right"></i></a>
        <h5 class="uppercase mt-8 sans-serif text-xl">{{ nextPost.title }}</h5>
      {% endif %}
    </div>

  </div><!-- /book-nav -->

</div><!-- /book-pag -->